import f,{createContext as m,useCallback as D,useContext as P,useMemo as p,useState as T}from"react";import{useId as g}from"../../hooks/use-id.js";import{forwardRefWithAs as x,render as h}from"../../utils/render.js";import{useIsoMorphicEffect as E}from"../../hooks/use-iso-morphic-effect.js";import{useSyncRefs as S}from"../../hooks/use-sync-refs.js";let d=m(null);function u(){let r=P(d);if(r===null){let t=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(t,u),t}return r}function M(){let[r,t]=T([]);return[r.length>0?r.join(" "):void 0,p(()=>function(e){let i=D(o=>(t(n=>[...n,o]),()=>t(n=>{let a=n.slice(),l=a.indexOf(o);return l!==-1&&a.splice(l,1),a})),[]),s=p(()=>({register:i,slot:e.slot,name:e.name,props:e.props}),[i,e.slot,e.name,e.props]);return f.createElement(d.Provider,{value:s},e.children)},[t])]}let v="p",O=x(function(t,c){let e=u(),i=`headlessui-description-${g()}`,s=S(c);E(()=>e.register(i),[i,e.register]);let o=t,n={ref:s,...e.props,id:i};return h({ourProps:n,theirProps:o,slot:e.slot||{},defaultTag:v,name:e.name||"Description"})});export{O as Description,M as useDescriptions};
